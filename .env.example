# GovCon AI Pipeline - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# DATABASE
# ============================================================================
POSTGRES_URL=postgresql://bronze:password@localhost:5432/govcon
POSTGRES_USER=bronze
POSTGRES_PASSWORD=password
POSTGRES_DB=govcon

# ============================================================================
# CACHE & VECTOR STORE
# ============================================================================
REDIS_URL=redis://localhost:6379/0
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# ============================================================================
# OBJECT STORAGE (MinIO - S3 Compatible)
# ============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=bronze
MINIO_SECRET_KEY=bronze_secret_change_me
MINIO_BUCKET=govcon-artifacts
MINIO_SECURE=false

# ============================================================================
# AI MODEL PROVIDERS
# ============================================================================
# OpenAI
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o
OPENAI_TEMPERATURE=0.7

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Ollama (for local models)
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama3.2

# Default provider: openai | anthropic | ollama
DEFAULT_LLM_PROVIDER=openai

# ============================================================================
# COMPANY CONFIGURATION - The Bronze Shield
# ============================================================================
COMPANY_NAME=The Bronze Shield
COMPANY_UEI=<your-uei-here>
COMPANY_CAGE=<your-cage-here>

# Socioeconomic Status (JSON array, in priority order)
SET_ASIDE_PREFS=["SDVOSBC","VOSB","SBA","WOSB","8A"]

# NAICS Codes (JSON array)
ALLOWED_NAICS=["541512","541511","541519","541513","541690","541611","541930","561410","518210","541990"]

# PSC/FSC Codes (JSON array)
ALLOWED_PSC=["D301","D302","D307","D308","D310","D314","D316","D318","D399","R408","R410","R413","R420","R499","R699","R608","U012","U099"]

# ============================================================================
# DISCOVERY SETTINGS
# ============================================================================
# SAM.gov API
SAM_GOV_API_KEY=
SAM_GOV_BASE_URL=https://api.sam.gov

# Discovery filters
DISCOVERY_DAYS_BACK=30
DISCOVERY_MIN_VALUE=25000
DISCOVERY_MAX_VALUE=10000000

# Keywords for opportunity search (JSON array)
DISCOVERY_KEYWORDS=["Zero Trust","ICAM","RMF","CMMC","SOC2","ISO 27001","cybersecurity","data management","translation","interpretation","ASL","transcription","IT services","help desk","PMO"]

# Target agencies (JSON array, empty = all)
TARGET_AGENCIES=["VA","DoD","DHS","HHS","DOJ","USDA"]

# ============================================================================
# BID/NO-BID SCORING
# ============================================================================
BID_NOBID_AUTO_THRESHOLD=75.0
BID_NOBID_REQUIRE_APPROVAL=true

# Scoring weights (must sum to 100)
SCORE_WEIGHT_SET_ASIDE=25
SCORE_WEIGHT_SCOPE=25
SCORE_WEIGHT_TIMELINE=15
SCORE_WEIGHT_COMPETITION=10
SCORE_WEIGHT_STAFFING=10
SCORE_WEIGHT_PRICING=10
SCORE_WEIGHT_STRATEGIC=5

# ============================================================================
# PRICING DATA SOURCES
# ============================================================================
# Bureau of Labor Statistics
BLS_API_KEY=
BLS_BASE_URL=https://api.bls.gov/publicAPI/v2

# GSA CALC
GSA_CALC_BASE_URL=https://api.gsa.gov/acquisition/calc

# Default wrap rates (percentages)
DEFAULT_FRINGE_RATE=30.0
DEFAULT_OVERHEAD_RATE=15.0
DEFAULT_GA_RATE=10.0
DEFAULT_FEE_RATE=8.0

# ============================================================================
# PROPOSAL GENERATION
# ============================================================================
PROPOSAL_TEMPLATES_DIR=./config/templates
PROPOSAL_OUTPUT_DIR=./output/proposals
PROPOSAL_MAX_PAGE_LENGTH=50
PROPOSAL_FONT=Times New Roman
PROPOSAL_FONT_SIZE=12

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
# JWT Configuration
AUTH_ISSUER=https://accounts.bronzeshield.com/
AUTH_AUDIENCE=govcon-api
JWT_SIGNING_KEY=change_me_to_a_secure_random_key
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24

# Session
SESSION_SECRET_KEY=change_me_to_a_secure_random_session_key
SESSION_COOKIE_NAME=govcon_session
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true

# Encryption at rest
ENCRYPTION_KEY=change_me_to_a_32_byte_key

# ============================================================================
# RBAC ROLES
# ============================================================================
# Available roles: admin, capture_manager, proposal_writer, pricer, reviewer, sdvosb_officer
DEFAULT_USER_ROLE=proposal_writer

# ============================================================================
# AUDIT & COMPLIANCE
# ============================================================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=INFO
AUDIT_RETENTION_DAYS=2555

# CMMC/NIST 800-171 alignment
CMMC_LEVEL=2
NIST_800_171_COMPLIANT=true

# ============================================================================
# API CONFIGURATION
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false
API_LOG_LEVEL=info

# CORS
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/govcon.log

# Sentry (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ============================================================================
# WORKFLOW SETTINGS
# ============================================================================
# Approval gates
REQUIRE_PINK_TEAM_APPROVAL=true
REQUIRE_GOLD_TEAM_APPROVAL=true

# Notifications
EMAIL_ENABLED=false
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_FROM=noreply@bronzeshield.com
NOTIFICATION_EMAILS=capture@bronzeshield.com

# Slack (optional)
SLACK_WEBHOOK_URL=

# Telegram (optional)
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
DEBUG=false
TESTING=false
PROFILE=false

# Trace/Debug
AGENT_TRACING_ENABLED=true
AGENT_TRACING_PROCESSOR=console

# Mock external APIs (for testing)
MOCK_SAM_GOV=false
MOCK_BLS_API=false
MOCK_GSA_CALC=false
